{% liquid
    assign heading = section.settings.heading
    assign heading_size = section.settings.heading_size
    assign heading_weight = section.settings.heading_weight
    assign heading_color = section.settings.heading_color
    assign heading_size_mobile = section.settings.heading_size_mobile
  
    assign subheading = section.settings.subheading
    assign subheading_size = section.settings.subheading_size
    assign subheading_weight = section.settings.subheading_weight
    assign subheading_color = section.settings.subheading_color
    assign subheading_size_mobile = section.settings.subheading_size_mobile
  
    assign text = section.settings.text
    assign text_size = section.settings.text_size
    assign text_weight = section.settings.text_weight
    assign text_color = section.settings.text_color
    assign text_size_mobile = section.settings.text_size_mobile
  
    assign image_border_width = section.settings.image_border_width
    assign image_border_style = section.settings.image_border_style
    assign image_border_color = section.settings.image_border_color
    assign image_border_radius = section.settings.image_border_radius
  
    assign active_border_color = section.settings.active_border_color
  
    assign layout_margin_top = section.settings.layout_margin_top
    assign layout_margin_bottom = section.settings.layout_margin_bottom
    assign layout_background = section.settings.layout_background
%}
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css">
  
  <div id="shopify-section-{{section.id}}" class="shopify-section">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css">
    <style data-shopify="">
      
        .section-{{section.id}} {
          border-top: solid #000000 0px;
          border-bottom: solid #000000 0px;
          margin-top: {{ layout_margin_top }}px;
          margin-bottom: {{ layout_margin_bottom }}px;
          margin-left: 0rem;
          margin-right: 0rem;
          border-radius: 0px;
          overflow: hidden;
        }
  
        .section-{{section.id}}-settings {
          margin: 0 auto;
          padding-top: 54px;
          padding-bottom: 54px;
          padding-left: 2rem;
          padding-right: 2rem;
        }
  
        .video-image-body-{{section.id}} {
          display: grid;
          gap: 40px;
          grid-template-columns: 1fr;
        }
  
        .video-image-content-{{section.id}} {
          display: flex;
          flex-direction: column;
          align-items: start;
          position: relative;
        }
  
        .video-image-heading-{{section.id}} {
          width: 100%;
          margin-top: 12px;
          text-align: left;
        }
  
        .video-image-heading-{{section.id}} * {
          margin: 0;
          font-size: {{ heading_size_mobile }}px;
          color: {{  heading_color }};
          font-weight: {{ heading_weight }};
          line-height: 120%;
          text-transform: unset;
          word-break: break-word;
        }
  
        .video-image-subheading-{{section.id}} {
          width: 100%;
          text-align: left;
        }
  
        .video-image-subheading-{{section.id}} * {
          margin: 0;
          font-size: {{ subheading_size_mobile }}px;
          color: {{ subheading_color }};
          font-weight: {{ subheading_weight }};
          line-height: 130%;
          text-transform: unset;
          word-break: break-word;
        }
  
        .video-image-text-{{section.id}} {
          width: 100%;
          margin-top: 16px;
          text-align: left;
        }
  
        .video-image-text-{{section.id}} * {
          margin: 0;
          font-size: {{ text_size_mobile }}px;
          color: {{ text_color }};
          font-weight: {{ text_weight }};
          line-height: 170%;
          text-transform: unset;
        }
  
        .video-image-slide-{{section.id}} {
          position: relative;
          box-sizing: border-box !important;
        }
  
        .video-image-slide-{{section.id}} img,
        .video-image-slide-{{section.id}} > svg,
        .video-image-slide-{{section.id}} video,
        .video-image-slide-{{section.id}} iframe {
          display: block;
          width: calc(100% - 0px);
          height: calc(100% - 0px);
          object-fit: cover;
          box-shadow: none;
          border: 0px;
          border-radius: {{ image_border_radius }}px;
          border: 0px solid #000000;
        }
  
        .video-image-slide-{{section.id}} > svg {
          background-color: #AFAFAF;
        }
  
        .video-image-slide-{{section.id}}:after {
          content: '';
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          position: absolute;
          z-index: 2;
        }
  
        .video-image-slider-wrapper-{{section.id}} {
          align-items: center;
          gap: 20px;
          min-width: 0;
          position: relative;
          z-index: 1;
        }
  
        .video-image-slider-{{section.id}} {
          min-width: 0;
          flex: 1 1 auto;
          max-width: 90% !important;
          margin-left: auto !important;
        }
  
        .video-image-thumbs-slider-{{section.id}} {
          flex: 0 0 60px;
          max-width: fit-content !important;
          margin-left: auto !important;
          margin-right: auto !important;
          margin-top: 20px !important;
        }
  
        .video-image-thumbs-slider-{{section.id}} .swiper-wrapper {
          flex-direction: row !important;
          justify-content: center !important;
          gap: 16px !important;
        }
  
        .video-image-thumbs-slide-{{section.id}} {
          display: flex !important;
          align-items: center;
          justify-content: center;
          width: 60px !important;
          height: 60px !important;
          border-radius: 50% !important;
          overflow: hidden !important;
          box-sizing: border-box !important;
          cursor: pointer;
          margin: 0px !important;
          transition: all 0.25s ease 0s;
          transform: scale(0.95) !important;
          border: 3px solid transparent !important;
        }
  
        .video-image-thumbs-slide-{{section.id}}:hover {
          transform: scale(1) !important;
          transition: all 0.25s ease 0s;
        }
  
        .video-image-thumbs-slide-{{section.id}}.swiper-slide-thumb-active {
          border: 3px solid {{ active_border_color }} !important;
          transform: scale(1) !important;
          transition: all 0.25s ease 0s;
        }
  
        .video-image-thumbs-slide-{{section.id}} img,
        .video-image-thumbs-slide-{{section.id}} svg {
          display: block;
          width: calc(100% - 4px);
          height: calc(100% - 4px);
          object-fit: cover;
          border-radius: 50%;
        }
  
        .video-image-thumbs-slide-{{section.id}} svg {
          background-color: #AFAFAF;
        }
  
        .video-image-items-{{section.id}} {
          max-width: 140px;
          position: absolute;
          top: calc(100% + 100px);
          z-index: 2;
          left: 0;
        }
  
        .video-image-item-{{section.id}} {
          border-radius: {{  image_border_radius }}px;
          border: {{ image_border_width }}px {{ image_border_style }} {{ image_border_color }};
          {% comment %} border: 5px solid #ffffff; {% endcomment %}
          overflow: hidden;
          display: none;
        }
  
        .video-image-item-{{section.id}}.active {
          display: block !important;
        }
  
        .video-image-item-{{section.id}} img,
        .video-image-item-{{section.id}} svg {
          display: block;
          width: 100%;
          height: 100%;
          object-fit: cover;
        }
  
        .video-image-item-{{section.id}} svg {
          background-color: #AFAFAF;
        }
  
        .video-action-{{section.id}} {
          display: flex;
          align-items: center;
          justify-content: center;
          position: absolute;
          z-index: 3;
          border-radius: 50%;
          bottom: 20px;
          right: 20px;
          width: 32px;
          height: 32px;
          background-color: #ffffff;
          transition: all 0.25s ease 0s;
          cursor: pointer;
        }
  
        .video-action-{{section.id}}.active .video-pause-{{section.id}},
        .video-action-{{section.id}} .video-play-{{section.id}} {
          display: none;
        }
  
        .video-action-{{section.id}}.active .video-play-{{section.id}} {
          display: block;
        }
  
        .video-action-{{section.id}} svg path {
          fill: #000000;
        }
  
        @media(min-width: 1024px) {
  
          .section-{{section.id}} {
            margin-top: {{ layout_margin_top }}px;
            margin-bottom: {{ layout_margin_bottom }}px;
            margin-left: 0rem;
            margin-right: 0rem;
            border-radius: 0px;
          }
  
          .section-{{section.id}}-settings {
            padding: 0 5rem;
            padding-top: 72px;
            padding-bottom: 72px;
            padding-left: 5rem;
            padding-right: 5rem;
          }
  
          .video-image-body-{{section.id}} {
            gap: 70px;
            grid-template-columns: 1fr 1fr;
          }
  
          .video-image-content-{{section.id}} {
            align-items: start;
          }
  
          .video-image-heading-{{section.id}} {
            margin-top: 16px;
            text-align: left;
          }
  
          .video-image-heading-{{section.id}} * {
            font-size: {{ heading_size }}px;
          }
  
          .video-image-subheading-{{section.id}} {
            text-align: left;
          }
  
          .video-image-subheading-{{section.id}} * {
            font-size: {{ subheading_size }}px;
          }
  
          .video-image-text-{{section.id}} {
            margin-top: 48px;
            text-align: left;
          }
  
          .video-image-text-{{section.id}} * {
            font-size: {{ text_size }}px;
          }
  
          .video-image-slider-wrapper-{{section.id}} {
            display: flex;
          }
  
          .video-image-slide-{{section.id}} img,
          .video-image-slide-{{section.id}} > svg,
          .video-image-slide-{{section.id}} video,
          .video-image-slide-{{section.id}} iframe {
            border-radius: {{ image_border_radius }}px;
          }
  
          .video-image-slider-{{section.id}} {
            max-width: 100% !important;
            margin: 0px !important;
          }
  
          .video-image-thumbs-slider-{{section.id}} {
            flex: 0 0 56px;
            margin: 0px !important;
          }
  
          .video-image-thumbs-slider-{{section.id}} .swiper-wrapper {
            flex-direction: column !important;
          }
  
          .video-image-thumbs-slide-{{section.id}} {
            width: 56px !important;
            height: 56px !important;
            margin: 0px !important;
          }
  
          .video-image-items-{{section.id}} {
            margin-top: 48px;
            position: static;
            max-width: 50%;
          }
  
          .video-image-item-{{section.id}} {
            border-radius: {{ image_border_radius }}px;
          }
  
          .video-action-{{section.id}} {
            width: 32px;
            height: 32px;
            opacity: 0;
            pointer-events: none;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
          }
  
          .video-image-slide-{{section.id}}:hover .video-action-{{section.id}} {
            opacity: 1;
            pointer-events: all;
            transition: all 0.25s ease 0s;
          }
        }
    </style>
    <style>
      .section-{{section.id}}-settings {
        max-width: 120rem;
      }
    </style>
  
    <style>
  
      .video-image-slider-wrapper-{{section.id}} {
        order: 2;
      }
  
      .video-image-content-{{section.id}} {
        order: 1;
      }
    </style>
  
    <style>
      @media(min-width: 1024px) {
        .video-image-slider-wrapper-{{section.id}} {
          order: 2;
        }
  
        .image-text-content-{{section.id}} {
          order: 1;
        }
      }
    </style>
  
    <style>
      .video-image-slide-{{section.id}} {
       aspect-ratio: 9.6/12;
      }
    </style>
  
    <style>
      @media(min-width: 1024px) {
       .video-image-slide-{{section.id}} {
         aspect-ratio: 9.6/12;
        }
      }
    </style>
  
    <style>
      .video-image-item-{{section.id}} {
       aspect-ratio: 9.6/12;
      }
    </style>
  
    <style>
      @media(min-width: 1024px) {
       .video-image-item-{{section.id}} {
         aspect-ratio: 9.6/12;
        }
      }
    </style>
  
    <style>
      @media(min-width: 1024px) {
        .video-image-items-{{section.id}} {
          margin-left: auto;
        }
      }
    </style>
  
    <div
      class="section-{{section.id}} video-image-{{section.id}}"
      style="background-color:{{ layout_background }}; background-image: ;"
    >
      <div class="section-{{section.id}}-settings">
        <div class="video-image-body-{{section.id}}">
          <div class="video-image-content-{{section.id}}">
              {% if subheading != blank %}
            <div class="video-image-subheading-{{section.id}}">
              <h3>{{  subheading }}</h3>
            </div>
          {% endif %}
  
          {% if heading != blank %}
            <div class="video-image-heading-{{section.id}}">
              <h2>{{ heading }}</h2>
            </div>
          {% endif %}
  
          
            <div class="video-image-text-{{section.id}}">
              {% if text != blank %}
              {{ text }}
          {% endif %}
            </div>
  
          </div>
          <div class="video-image-slider-wrapper-{{section.id}}">
  
            <div class="video-image-slider-{{section.id}} swiper swiper-fade swiper-initialized swiper-horizontal swiper-watch-progress swiper-backface-hidden">
              <div
                class="swiper-wrapper"
                
              >
                  {% for block in section.blocks %}
                <div
                  class="video-image-slide-{{section.id}} swiper-slide"
                  
                >
                    {%  if block.settings.video != blank %}
                            {{ block.settings.video | video_tag: controls: true, preload: 'none', loop: true, autoplay: true, muted: true, playsinline: true }}
                    {% endif  %}
                    {% if block.settings.image != blank and block.settings.video == blank %}
                            <img src="{{ block.settings.image | img_url: 'master' }}" alt="">
                    {% endif%}
                    {% if block.settings.image ==  blank and block.settings.video == blank %}
                            {{ 'product-3' | placeholder_svg_tag: 'placeholder-svg' }}
                    {% endif %}

                </div>
  
            {% endfor %}
              </div>
              <span class="swiper-notification" aria-live="assertive" aria-atomic="true"></span>
            </div>
  
            <div class="video-image-thumbs-slider-{{section.id}} swiper  swiper-thumbs swiper-vertical">
              <div
                class="swiper-wrapper"
                
              >
                  {% for block in section.blocks %}
                <div
                  class="video-image-thumbs-slide-{{section.id}} swiper-slide  swiper-slide-thumb-active"
                >
                    {% if block.settings.thumb != blank %}
                  <img
                    src="{{ block.settings.thumb | img_url: 'master' }}"
                    alt=""
                    loading="lazy"
                  >
                  {% else %}
                    {{ 'product-3' | placeholder_svg_tag: 'placeholder-svg' }}
                  {% endif %}
                </div>
              {% endfor %}
              </div>
              <span class="swiper-notification" aria-live="assertive" aria-atomic="true"></span>
            </div>
          </div>
        </div>
      </div>
    </div>
  
    <script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload@19.1.3/dist/lazyload.min.js"></script>
  
    <script>
      function loadSwiper(callback) {
        if (window.Swiper) {
          callback();
        } else {
          const script = document.createElement('script');
          script.src = 'https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js';
          script.onload = callback;
          document.head.appendChild(script);
        }
      }
  
      function initVideoImageText3(sectionId) {
        var lazyLoadInstance = new LazyLoad();
  
        window.addEventListener(
          'LazyLoad::Initialized',
          function (event) {
            window.lazyLoadInstance = event.detail.instance;
          },
          false
        );
  
        let items = document.querySelectorAll(`.video-image-item-${sectionId}`);
        const slider = new Swiper(`.video-image-slider-${sectionId}`, {
          speed: 300,
          effect: 'fade',
          fadeEffect: { crossFade: true },
          spaceBetween: 20,
          loop: true,
          allowTouchMove: false,
          rewind: true,
          observer: true,
          thumbs: {
            swiper: {
              el: `.video-image-thumbs-slider-${sectionId}`,
              slidesPerView: 'auto',
              spaceBetween: 20,
              threshold: 2,
              breakpoints: {
                320: {
                  direction: 'horizontal',
                },
                1024: {
                  direction: 'vertical',
                },
              },
            },
          },
          on: {
            slideChange: function () {
              var activeIndex = this.activeIndex;
              var activeSlide = this.slides[activeIndex];
              var currentId = activeSlide.id;
              if (items) {
                items.forEach((el) => {
                  let dataId = el.getAttribute('data-id');
                  if (dataId == currentId) {
                    el.classList.add('active');
                  } else {
                    el.classList.remove('active');
                  }
                });
              }
            },
          },
        });
        let slides = document.querySelectorAll(`.video-image-slide-${sectionId}`);
        if (slides) {
          slides.forEach((el) => {
            let btn = el.querySelector(`.video-action-${sectionId}`);
            let video = el.querySelector('video');
            let frame = el.querySelector('iframe');
            if (btn) {
              btn.addEventListener('click', (e) => {
                e.preventDefault();
                btn.classList.toggle('active');
                if (btn.classList.contains('active')) {
                  if (video) {
                    video.pause();
                  }
                  if (frame) {
                    frame.contentWindow.postMessage('{"event":"command","func":"' + 'stopVideo' + '","args":""}', '*');
                  }
                } else {
                  if (video) {
                    video.play();
                  }
                  if (frame) {
                    frame.contentWindow.postMessage('{"event":"command","func":"' + 'playVideo' + '","args":""}', '*');
                  }
                }
              });
            }
          });
        }
      }
  
      function initializeAllVideoImageText3Sections() {
        const sections = document.querySelectorAll('[id^="shopify-section-"]');
        sections.forEach((section) => {
          if (section.querySelector('.video-image-{{section.id}}')) {
            const sectionId = section.id.replace('shopify-section-', '');
            loadSwiper(() => initVideoImageText3(sectionId));
          }
        });
      }
  
      if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', initializeAllVideoImageText3Sections);
      } else {
        initializeAllVideoImageText3Sections();
      }
  
      if (Shopify.designMode) {
        document.addEventListener('shopify:section:load', (event) => {
          const sectionId = event.detail.sectionId;
          if (event.target.querySelector('.video-image-{{section.id}}')) {
            loadSwiper(() => initVideoImageText3(sectionId));
          }
        });
      }
    </script>
  </div>
  
  {% schema %}
  {
    "name": "PC - Image Text 3",
    "settings": [

      {
        "type": "header",
        "content": "This section is a property of PeakConversion",
        "info": "Do not sell or reproduce. contact us at franklinjounda@gmail.com for more info"
    },
      {
        "type": "header",
        "content": "Heading Settings"
      },
      {
        "type": "text",
        "id": "heading",
        "label": "Heading",
        "default": "Lorem Picsum Doloremus Amet"
      },
      {
        "type": "range",
        "id": "heading_size",
        "label": "Heading Size",
        "default": 64,
        "min": 10,
        "max": 100,
        "unit": "px"
      },
      {
        "type": "select",
        "id": "heading_weight",
        "label": "Heading Weight",
        "default": "bold",
        "options": [
          {
            "value": "normal",
            "label": "Normal"
          },
          {
            "value": "bold",
            "label": "Bold"
          }
        ]
      },
      {
        "type": "color",
        "id": "heading_color",
        "label": "Heading Color",
        "default": "#000000"
      },
      {
        "type": "range",
        "id": "heading_size_mobile",
        "label": "Heading Size (Mobile)",
        "default": 40,
        "min": 10,
        "max": 100,
        "unit": "px"
      },
      {
        "type": "header",
        "content": "Subheading Settings"
      },
      {
        "type": "text",
        "id": "subheading",
        "label": "Subheading",
        "default": "LOREM IPSUM DOLOR AMET"
      },
      {
        "type": "range",
        "id": "subheading_size",
        "label": "Subheading Size",
        "default": 14,
        "min": 10,
        "max": 100,
        "unit": "px"
      },
      {
        "type": "select",
        "id": "subheading_weight",
        "label": "Subheading Weight",
        "default": "normal",
        "options": [
          {
            "value": "normal",
            "label": "Normal"
          },
          {
            "value": "bold",
            "label": "Bold"
          }
        ]
      },
      {
        "type": "color",
        "id": "subheading_color",
        "label": "Subheading Color",
        "default": "#000000"
      },
      {
        "type": "range",
        "id": "subheading_size_mobile",
        "label": "Subheading Size (Mobile)",
        "default": 14,
        "min": 10,
        "max": 100,
        "unit": "px"
      },
      {
        "type": "header",
        "content": "Text Settings"
      },
      {
        "type": "richtext",
        "id": "text",
        "label": "Text",
        "default": "<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p>"
      },
      {
        "type": "range",
        "id": "text_size",
        "label": "Text Size",
        "default": 16,
        "min": 10,
        "max": 100,
        "unit": "px"
      },
      {
        "type": "select",
        "id": "text_weight",
        "label": "Text Weight",
        "default": "normal",
        "options": [
          {
            "value": "normal",
            "label": "Normal"
          },
          {
            "value": "bold",
            "label": "Bold"
          }
        ]
      },
      {
        "type": "color",
        "id": "text_color",
        "label": "Text Color",
        "default": "#000000"
      },
      {
        "type": "range",
        "id": "text_size_mobile",
        "label": "Text Size (Mobile)",
        "default": 14,
        "min": 10,
        "max": 100,
        "unit": "px"
      },
      {
        "type": "header",
        "content": "Image Border Settings"
      },
      {
        "type": "range",
        "id": "image_border_width",
        "label": "Image Border Width",
        "default": 0,
        "min": 0,
        "max": 20,
        "unit": "px"
      },
      {
        "type": "select",
        "id": "image_border_style",
        "label": "Image Border Style",
        "default": "solid",
        "options": [
          {
            "value": "solid",
            "label": "Solid"
          },
          {
            "value": "dashed",
            "label": "Dashed"
          },
          {
            "value": "dotted",
            "label": "Dotted"
          }
        ]
      },
      {
        "type": "color",
        "id": "image_border_color",
        "label": "Image Border Color",
        "default": "#000000"
      },
      {
        "type": "range",
        "id": "image_border_radius",
        "label": "Image Border Radius",
        "default": 24,
        "min": 0,
        "max": 100,
        "unit": "px"
      },
      {
        "type": "color",
        "id": "active_border_color",
        "label": "Active Border Color",
        "default": "#333"
      },
      {
        "type": "header",
        "content": "Layout Settings"
      },
      {
        "type": "range",
        "id": "layout_margin_top",
        "label": "Layout Margin Top",
        "default": 0,
        "min": 0,
        "max": 100,
        "unit": "px"
      },
      {
        "type": "range",
        "id": "layout_margin_bottom",
        "label": "Layout Margin Bottom",
        "default": 0,
        "min": 0,
        "max": 100,
        "unit": "px"
      },
      {
        "type": "color",
        "id": "layout_background",
        "label": "Layout Background",
        "default": "#ffffff"
      }
    ],
    "blocks": [
      {
        "type": "media",
        "name": "Image / Video",
        "settings": [
          {
            "type": "image_picker",
            "id": "image",
            "label": "Image"
          },
          {
            "type": "video",
            "id": "video",
            "label": "Video"
          },
          {
              "type": "image_picker",
              "id": "thumb",
              "label": "Thumbnail"
          }
        ]
      }
    ],
    "presets": [
      {
        "name": "PC - Image Text 3",
        "blocks": [
          {
            "type": "media",
            "settings": {
              "image": "",
              "video": ""
            }
          },
          {
            "type": "media",
            "settings": {
              "image": "",
              "video": ""
            }
          },
          {
            "type": "media",
            "settings": {
              "image": "",
              "video": ""
            }
          },
          {
            "type": "media",
            "settings": {
              "image": "",
              "video": ""
            }
          },
          {
            "type": "media",
            "settings": {
              "image": "",
              "video": ""
            }
          }
        ]
      }
    ]
  }
  {% endschema %}
  <script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload@19.1.3/dist/lazyload.min.js"></script>
  
  <script>
    function loadSwiper(callback) {
      if (window.Swiper) {
        callback();
      } else {
        const script = document.createElement('script');
        script.src = 'https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js';
        script.onload = callback;
        document.head.appendChild(script);
      }
    }
  
    function initVideoImageText3(sectionId) {
      var lazyLoadInstance = new LazyLoad();
  
      window.addEventListener(
        'LazyLoad::Initialized',
        function (event) {
          window.lazyLoadInstance = event.detail.instance;
        },
        false
      );
  
      let items = document.querySelectorAll(`.video-image-item-${sectionId}`);
      const slider = new Swiper(`.video-image-slider-${sectionId}`, {
        speed: 300,
        effect: 'fade',
        fadeEffect: { crossFade: true },
        spaceBetween: 20,
        loop: true,
        allowTouchMove: false,
        rewind: true,
        observer: true,
        thumbs: {
          swiper: {
            el: `.video-image-thumbs-slider-${sectionId}`,
            slidesPerView: 'auto',
            spaceBetween: 20,
            threshold: 2,
            breakpoints: {
              320: {
                direction: 'horizontal',
              },
              1024: {
                direction: 'vertical',
              },
            },
          },
        },
        on: {
          slideChange: function () {
            var activeIndex = this.activeIndex;
            var activeSlide = this.slides[activeIndex];
            var currentId = activeSlide.id;
            if (items) {
              items.forEach((el) => {
                let dataId = el.getAttribute('data-id');
                if (dataId == currentId) {
                  el.classList.add('active');
                } else {
                  el.classList.remove('active');
                }
              });
            }
          },
        },
      });
      let slides = document.querySelectorAll(`.video-image-slide-${sectionId}`);
      if (slides) {
        slides.forEach((el) => {
          let btn = el.querySelector(`.video-action-${sectionId}`);
          let video = el.querySelector('video');
          let frame = el.querySelector('iframe');
          if (btn) {
            btn.addEventListener('click', (e) => {
              e.preventDefault();
              btn.classList.toggle('active');
              if (btn.classList.contains('active')) {
                if (video) {
                  video.pause();
                }
                if (frame) {
                  frame.contentWindow.postMessage('{"event":"command","func":"' + 'stopVideo' + '","args":""}', '*');
                }
              } else {
                if (video) {
                  video.play();
                }
                if (frame) {
                  frame.contentWindow.postMessage('{"event":"command","func":"' + 'playVideo' + '","args":""}', '*');
                }
              }
            });
          }
        });
      }
    }
  
    function initializeAllVideoImageText3Sections() {
      const sections = document.querySelectorAll('[id^="shopify-section-"]');
      sections.forEach((section) => {
        if (section.querySelector('.video-image-{{section.id}}')) {
          const sectionId = section.id.replace('shopify-section-', '');
          loadSwiper(() => initVideoImageText3(sectionId));
        }
      });
    }
  
    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', initializeAllVideoImageText3Sections);
    } else {
      initializeAllVideoImageText3Sections();
    }
  
    if (Shopify.designMode) {
      document.addEventListener('shopify:section:load', (event) => {
        const sectionId = event.detail.sectionId;
        if (event.target.querySelector('.video-image-{{section.id}}')) {
          loadSwiper(() => initVideoImageText3(sectionId));
        }
      });
    }
  </script>
  
